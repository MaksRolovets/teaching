<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>–£—á–µ–±–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f7;
            color: #1d1d1f;
        }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è –¥–ª—è –ü–ö (—Å–≤–µ—Ä—Ö—É) */
        .desktop-nav {
            display: none;
            background: white;
            border-bottom: 1px solid #e5e5e7;
            padding: 0 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 60px;
        }

        .logo {
            font-size: 20px;
            font-weight: bold;
            color: #0066cc;
        }

        .nav-links {
            display: flex;
            gap: 30px;
        }

        .nav-link {
            text-decoration: none;
            color: #1d1d1f;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .nav-link:hover,
        .nav-link.active {
            background: #0066cc;
            color: white;
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: #0066cc;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö (—Å–Ω–∏–∑—É) */
        .mobile-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top: 1px solid #e5e5e7;
            padding: 8px 0;
            display: flex;
            justify-content: space-around;
            z-index: 1000;
             transform: translateZ(0);
            -webkit-transform: translateZ(0);
            height: 65px; /* —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –≤—ã—Å–æ—Ç—É –∏ —É–±–∏—Ä–∞–µ—Ç –ø—Ä—ã–∂–æ–∫ */
        }

        .mobile-nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: #8e8e93;
            padding: 8px 12px;
            border-radius: 12px;
            transition: all 0.3s ease;
            flex: 1;
            max-width: 80px;
            
        }

        .mobile-nav-item.active {
            color: #0066cc;
            background: rgba(0, 102, 204, 0.1);
        }

        .nav-icon {
            font-size: 20px;
            margin-bottom: 4px;
        }

        .nav-label {
            font-size: 11px;
            font-weight: 500;
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .main-content {
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
            padding-bottom: 80px;
        }

        .page {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .page.active {
            display: block;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .student-card {
            background: white;
            padding: 15px 20px;
            border-radius: 14px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .student-index {
            background: #0066cc;
            color: white;
            font-weight: bold;
            width: 28px;
            height: 28px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }

        .student-name {
            font-size: 16px;
            font-weight: 500;
            color: #1d1d1f;
        }


        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .stat-value {
            font-size: 32px;
            font-weight: bold;
            color: #0066cc;
            margin-bottom: 8px;
        }

        .stat-label {
            color: #8e8e93;
            font-size: 14px;
        }

        .sidebar {
    position: fixed;
    top: 0;
    right: 0;
    width: 350px;
    height: 100%;
    background: white;
    box-shadow: -4px 0 12px rgba(0,0,0,0.2);
    transform: translateX(100%);
    transition: 0.3s;
    padding: 20px;
    z-index: 999;
}

.sidebar.open {
    transform: translateX(0);
}

.sidebar .close-sidebar {
    background: none;
    border: none;
    font-size: 20px;
    float: right;
    cursor: pointer;
}

.student-card {
    cursor: pointer;
    transition: 0.2s;
}
.student-card:hover {
    transform: scale(1.03);
}


        .section {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            margin-bottom: 20px;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (min-width: 768px) {
            .desktop-nav {
                display: block;
            }
            
            .mobile-nav {
                display: none;
            }
            
            .main-content {
                padding-top: 40px;
                min-height: calc(100vh - 60px);
            }
        }

        @media (max-width: 767px) {
            .main-content {
                padding-bottom: 80px;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }

        .student-fields {
    display: flex;
    flex-direction: column;
    gap: 14px;
    margin-top: 20px;
}

.student-field {
    background: #ffffff;
    padding: 14px 16px;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    border: 1px solid #e5e5e5;
}

.student-field-title {
    font-weight: 600;
    color: #555;
    margin-bottom: 4px;
    font-size: 13px;
}

.student-field-value {
    font-size: 15px;
    color: #000;
}
/* –¢–∞–±—ã —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è */
.schedule-tabs {
    display: flex;
    gap: 10px;
    margin-bottom: 15px;
}

.schedule-tab {
    padding: 10px 18px;
    border-radius: 14px;
    background: #e9eef6;
    cursor: pointer;
    font-size: 15px;
    user-select: none;
    transition: .2s;
}

.schedule-tab.active {
    background: #007aff;
    color: white;
}

/* –†–µ–∂–∏–º—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è */
.schedule-view {
    display: none;
}

.floating-add-btn {
    position: fixed;
    bottom: 90px;
    right: 25px;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: #007aff;
    color: white;
    font-size: 32px;
    line-height: 60px;
    text-align: center;
    border: none;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    z-index: 9999; /* –≤–∞–∂–Ω–æ! */
}


.schedule-view.active {
    display: block;
}

/* –î–∞—Ç–∞ */
.schedule-date {
    margin: 10px 0 15px;
    font-size: 16px;
    font-weight: 600;
    opacity: .8;
}

/* –ö–∞—Ä—Ç–æ—á–∫–∞ —É—Ä–æ–∫–∞ */
.lesson-card {
    background: white;
    border-radius: 16px;
    padding: 15px 18px;
    margin-bottom: 12px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 2px 12px rgba(0,0,0,.06);
}

.lesson-time {
    font-size: 16px;
    font-weight: 500;
}

.lesson-student {
    font-size: 15px;
    opacity: .8;
}

.lesson-menu {
    cursor: pointer;
    font-size: 20px;
    opacity: .5;
}

/* –ü–æ–¥–Ω—è—Ç–∞—è –∫–Ω–æ–ø–∫–∞ + –∞–Ω—Ç–∏-–ø—Ä—ã–∂–æ–∫ */


.schedule-add-btn {
    position: fixed;
    bottom: 90px; 
    right: 25px;
    width: 55px;
    height: 55px;
    border-radius: 50%;
    background: #007aff;
    color: white;
    font-size: 32px;
    line-height: 55px;
    text-align: center;
    border: none;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(0,0,0,.2);
    z-index: 1001;  
}

/* –î–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞ –ø–æ–¥–Ω–∏–º–∞–µ–º –∫–Ω–æ–ø–∫—É –≤—ã—à–µ */
@media (min-width: 768px) {
    .schedule-add-btn {
        bottom: 30px;
    }
}

.bottom-sheet {
    position: fixed;
    left: 0;
    right: 0;
    bottom: 0;
    height: 70%; /* —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞ */
    background: #fff;
    border-radius: 18px 18px 0 0;
    transform: translateY(100%); /* –ø—Ä—è—á–µ–º –≤–Ω–∏–∑ */
    transition: transform 0.25s ease-in-out; /* –±—ã—Å—Ç—Ä–æ –∏ –ø–ª–∞–≤–Ω–æ */
    padding: 26px 22px 34px;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    padding-bottom: calc(34px + env(safe-area-inset-bottom));
    z-index: 9999;
    /* overflow-y: auto; –µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –º–Ω–æ–≥–æ */
}  


.bottom-sheet.open {
    transform: translateY(0);
}

.overlay {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.4);
    display: none;
    z-index: 900;
    transition: opacity 0.25s;
}

.overlay.show {
    display: block;
    opacity: 1;
}

.sheet-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

.sheet-title {
    font-size: 18px;
    font-weight: bold;
}

.sheet-close {
    background: none;
    border: none;
    font-size: 20px;
    cursor: pointer;
}

.sheet-content label {
    display: flex;
    flex-direction: column;
    margin-bottom: 12px;
    font-size: 14px;
}

.sheet-content input,
.sheet-content textarea {
    margin-top: 4px;
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #ddd;
    font-size: 14px;
    width: 100%;
}

.sheet-save-btn {
    margin-top: 15px;
    width: 100%;
    padding: 12px;
    background: #007aff;
    color: white;
    border: none;
    border-radius: 12px;
    font-size: 16px;
    cursor: pointer;
}
.sheet-save-btn:active {
    transform: scale(0.98);
}


</style>
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –¥–ª—è –ü–ö (—Å–≤–µ—Ä—Ö—É) -->
    <nav class="desktop-nav">
        <div class="nav-container">
            <div class="logo">–£—á–µ–±–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</div>
            
            <div class="nav-links">
                <a href="#" class="nav-link active" data-page="dashboard">üìä –î–∞—à–±–æ—Ä–¥</a>
                <a href="#" class="nav-link" data-page="students">üë®‚Äçüéì –£—á–µ–Ω–∏–∫–∏</a>
                <!-- <a href="#" class="nav-link" data-page="lessons">üìö –ó–∞–Ω—è—Ç–∏—è</a> -->
                <a href="#" class="nav-link" data-page="schedule">üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</a>
                <a href="#" class="nav-link" data-page="reports">üìà –û—Ç—á–µ—Ç—ã</a>
            </div>
            
            <div class="user-menu">
                <div class="user-avatar">–ò–ò</div>
            </div>
        </div>
    </nav>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main class="main-content">
        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –î–∞—à–±–æ—Ä–¥ -->
        <div id="dashboard" class="page active">
            <h1 style="margin-bottom: 20px;">–î–∞—à–±–æ—Ä–¥</h1>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value">24</div>
                    <div class="stat-label">–£—á–µ–Ω–∏–∫–æ–≤</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">156</div>
                    <div class="stat-label">–ó–∞–Ω—è—Ç–∏–π</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">92%</div>
                    <div class="stat-label">–ü–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">284,500 ‚ÇΩ</div>
                    <div class="stat-label">–î–æ—Ö–æ–¥</div>
                </div>
            </div>
            
            <div class="section">
                <h2 style="margin-bottom: 15px;">–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</h2>
                <p>–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤ –∑–∞–≤–µ—Ä—à–∏–ª –¥–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ</p>
                <p>–ú–∞—Ä–∏—è –°–∏–¥–æ—Ä–æ–≤–∞ –∑–∞–ø–∏—Å–∞–ª–∞—Å—å –Ω–∞ –Ω–æ–≤–æ–µ –∑–∞–Ω—è—Ç–∏–µ</p>
                <p>–ê–ª–µ–∫—Å–µ–π –ò–≤–∞–Ω–æ–≤ –ø—Ä–æ–¥–ª–∏–ª –∞–±–æ–Ω–µ–º–µ–Ω—Ç</p>
            </div>
        </div>
        
        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –£—á–µ–Ω–∏–∫–∏ -->
        <div id="students" class="page">
            <h1 style="margin-bottom: 20px;">–£—á–µ–Ω–∏–∫–∏</h1>
            <div class="section">
                <div id="students-list">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
            </div>
        </div>
    </div>
    
    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ó–∞–Ω—è—Ç–∏—è -->
    <div id="lessons" class="page">
        <h1 style="margin-bottom: 20px;">–ó–∞–Ω—è—Ç–∏—è</h1>
        <div class="section">
            <p>–°–ø–∏—Å–æ–∫ –∑–∞–Ω—è—Ç–∏–π –±—É–¥–µ—Ç –∑–¥–µ—Å—å...</p>
        </div>
    </div>
    
    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ -->
    <div id="schedule" class="page">
        <h1 style="margin-bottom: 20px;">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</h1>
        
        <!-- –¢–∞–±—ã -->
        <div class="schedule-tabs">
            <div class="schedule-tab active" data-mode="list">–°–ø–∏—Å–æ–∫</div>
            <div class="schedule-tab" data-mode="table">–¢–∞–±–ª–∏—Ü–∞</div>
            <div class="schedule-tab" data-mode="calendar">–ö–∞–ª–µ–Ω–¥–∞—Ä—å</div>
        </div>
        
        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ä–µ–∂–∏–º–æ–≤ -->
        <div id="schedule-list-view" class="schedule-view active">
            <div class="schedule-date">–°–µ–≥–æ–¥–Ω—è</div>
            
            <div class="lesson-card">
                <div class="lesson-time">11:00 ‚Äì 12:20</div>
                <div class="lesson-student">Make</div>
                <div class="lesson-menu">‚ãÆ</div>
            </div>
            
            <div class="lesson-card">
                <div class="lesson-time">16:30 ‚Äì 18:00</div>
                <div class="lesson-student">Nikita</div>
                <div class="lesson-menu">‚ãÆ</div>
            </div>
            
            <div class="lesson-card">
                <div class="lesson-time">16:30 ‚Äì 18:00</div>
                <div class="lesson-student">Nikita</div>
                <div class="lesson-menu">‚ãÆ</div>
            </div>
        </div>
        
        <div id="schedule-table-view" class="schedule-view">
            <p style="opacity: .6; margin-top: 20px;">–ó–¥–µ—Å—å –±—É–¥–µ—Ç —Ç–∞–±–ª–∏—á–Ω—ã–π —Ä–µ–∂–∏–º (–ø–æ–∑–∂–µ –¥–æ–±–∞–≤–∏–º)</p>
        </div>
        
        <div id="schedule-calendar-view" class="schedule-view">
            <p style="opacity: .6; margin-top: 20px;">–ó–¥–µ—Å—å –±—É–¥–µ—Ç –∫–∞–ª–µ–Ω–¥–∞—Ä—å (–ø–æ–∑–∂–µ –¥–æ–±–∞–≤–∏–º)</p>
        </div>
        
        <!-- –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–∏—Ç—å -->
        
    </div>
    
    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –û—Ç—á–µ—Ç—ã -->
    <div id="reports" class="page">
        <h1 style="margin-bottom: 20px;">–û—Ç—á–µ—Ç—ã</h1>
        <div class="section">
            <p>–û—Ç—á–µ—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –±—É–¥—É—Ç –∑–¥–µ—Å—å...</p>
        </div>
    </div>
    
    <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —É—á–µ–Ω–∏–∫–∞ -->
    <div id="student-sidebar" class="sidebar closed">
        <div class="sidebar-content">
            <button class="close-sidebar">‚úñ</button>
            <h2 id="sidebar-name">–ó–∞–≥—Ä—É–∑–∫–∞...</h2>
            
            <div class="student-fields">
                
                <div class="student-field">
                    <div class="student-field-title">–í–æ–∑—Ä–∞—Å—Ç</div>
                    <div class="student-field-value" id="sidebar-age"></div>
                </div>
                
                <div class="student-field">
                    <div class="student-field-title">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</div>
                    <div class="student-field-value" id="sidebar-info"></div>
                </div>
                
                <div class="student-field">
                    <div class="student-field-title">–ö–æ–Ω—Ç–∞–∫—Ç</div>
                    <div class="student-field-value" id="sidebar-phone"></div>
                </div>
                
            </div>
        </div>
    </div>
    
    
</main>

<!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö (—Å–Ω–∏–∑—É) -->
<nav class="mobile-nav">
    <a href="#" class="mobile-nav-item active" data-page="dashboard">
        <div class="nav-icon">üìä</div>
        <div class="nav-label">–ì–ª–∞–≤–Ω–∞—è</div>
    </a>
    <a href="#" class="mobile-nav-item" data-page="students">
        <div class="nav-icon">üë®‚Äçüéì</div>
        <div class="nav-label">–£—á–µ–Ω–∏–∫–∏</div>
        
    </a>
    <!-- <a href="#" class="mobile-nav-item" data-page="lessons">
        <div class="nav-icon">üìö</div>
            <div class="nav-label">–ó–∞–Ω—è—Ç–∏—è</div>
        </a> -->
        <a href="#" class="mobile-nav-item" data-page="schedule">
            <div class="nav-icon">üìÖ</div>
            <div class="nav-label">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</div>
        </a>
        <a href="#" class="mobile-nav-item" data-page="reports">
            <div class="nav-icon">üìà</div>
            <div class="nav-label">–û—Ç—á–µ—Ç—ã</div>
        </a>
        <!-- <button id="schedule-add-btn" class="schedule-add-btn">+</button> -->
         
    </nav>
    <div id="overlay" class="overlay"></div>
    <div id="create-student-modal" class="bottom-sheet">
    <div class="sheet-header">
        <div class="sheet-title">–ù–æ–≤—ã–π —É—á–µ–Ω–∏–∫</div>
        <button class="sheet-close">‚úñ</button>
    </div>

    <div class="sheet-content">
        <label class="sheet-field">
            <span>–ò–º—è —É—á–µ–Ω–∏–∫–∞</span>
            <input type="text" id="student-name-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è">
        </label>

        <label class="sheet-field">
            <span>–í–æ–∑—Ä–∞—Å—Ç</span>
            <input type="number" id="student-age-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 12">
        </label>

        <label class="sheet-field">
            <span>–¢–µ–ª–µ—Ñ–æ–Ω</span>
            <input type="text" id="student-phone-input" placeholder="+7 (___) ___-__-__">
        </label>

        <label class="sheet-field">
            <span>–û–ø–∏—Å–∞–Ω–∏–µ</span>
            <textarea id="student-info-input" placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π"></textarea>
        </label>

        <button id="create-student-btn" class="sheet-save-btn">
            –°–æ–∑–¥–∞—Ç—å —É—á–µ–Ω–∏–∫–∞
        </button>
    </div>
</div><div id="create-lesson-modal" class="bottom-sheet">
    <div class="sheet-header">
        <div class="sheet-title">–ù–æ–≤–æ–µ –∑–∞–Ω—è—Ç–∏–µ</div>
        <button class="sheet-close">‚úñ</button>
    </div>

    <div class="sheet-content">
        <label>
            <span>–î–∞—Ç–∞</span>
            <input type="date" id="lesson-date-input">
        </label>

        <label>
            <span>–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞</span>
            <input type="time" id="lesson-start-input">
        </label>

        <label>
            <span>–í—Ä–µ–º—è –∫–æ–Ω—Ü–∞</span>
            <input type="time" id="lesson-end-input">
        </label>

        <label>
            <span>–£—á–µ–Ω–∏–∫</span>
            <input type="text" id="lesson-student-input" placeholder="–ò–º—è —É—á–µ–Ω–∏–∫–∞">
        </label>

        <label>
            <span>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</span>
            <textarea id="lesson-info-input" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ / –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π"></textarea>
        </label>

        <button id="create-lesson-btn" class="sheet-save-btn">
            –°–æ–∑–¥–∞—Ç—å –∑–∞–Ω—è—Ç–∏–µ
        </button>
    </div>
</div>



    <script>
    const API = "http://192.168.0.108:8000";
    // const API = "http://172.20.10.2:8000";
    // const API = "http://127.0.0.1:8000";

    let sidebarWasOpen = false;

    // –õ–æ–≥–∏–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
   class Navigation {
    constructor() {
        this.currentPage = 'dashboard';
        this.init();
    }
    
    init() {
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–Ω–æ–≥–æ –º–µ–Ω—é
        const desktopLinks = document.querySelectorAll('.desktop-nav .nav-link');
        desktopLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                this.navigateTo(link.dataset.page);
            });
        });
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –º–µ–Ω—é
        const mobileLinks = document.querySelectorAll('.mobile-nav-item');
        mobileLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                this.navigateTo(link.dataset.page);
            });
        });
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
        window.addEventListener('resize', this.handleResize.bind(this));
    }
    
    navigateTo(pageId) {
        // –°–∫—Ä—ã–≤–∞–µ–º —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
        const currentPage = document.getElementById(this.currentPage);
        if (currentPage) {
            currentPage.classList.remove('active');
        }
        
        // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö —Å—Å—ã–ª–æ–∫
        document.querySelectorAll('.nav-link.active, .mobile-nav-item.active').forEach(item => {
            item.classList.remove('active');
        });

        // –í–°–ï–ì–î–ê —É–¥–∞–ª—è–µ–º –∫–Ω–æ–ø–∫—É "+" –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π (–í–ú–ï–°–¢–û: —Ä–∞–Ω—å—à–µ —É–¥–∞–ª—è–ª–∏ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ students/schedule)
        removeFloatingAddButton();

        // –ó–∞–∫—Ä—ã–≤–∞–µ–º –ª—é–±—É—é –æ—Ç–∫—Ä—ã—Ç—É—é –º–æ–¥–∞–ª–∫—É (–î–û–ë–ê–í–õ–ï–ù–û: –Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ –º–æ–¥–∞–ª–∫–∞ –æ—Å—Ç–∞–ª–∞—Å—å –æ—Ç–∫—Ä—ã—Ç–æ–π)
        const openModalEl = document.querySelector('.bottom-sheet.open');
        if (openModalEl) {
            closeModal(openModalEl.id);
        }

        // –°–æ–∑–¥–∞—ë–º –∫–Ω–æ–ø–∫—É —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ (–±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ ‚Äî –æ–Ω–∞ —É–∂–µ —É–¥–∞–ª–µ–Ω–∞)
        if (["schedule", "students"].includes(pageId)) {
            createFloatingAddButton(pageId);
        }

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
        const newPage = document.getElementById(pageId);
        if (newPage) {
            newPage.classList.add('active');
            this.currentPage = pageId;
            
            if (pageId !== "students") {
                document.getElementById("student-sidebar").classList.remove("open");
            } else {
                if (sidebarWasOpen) {
                    document.getElementById("student-sidebar").classList.add("open");
                }
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ —Å—Å—ã–ª–∫–∏
            document.querySelectorAll(`[data-page="${pageId}"]`).forEach(link => {
                link.classList.add('active');
            });
            
            // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ –≤–µ—Ä—Ö—É –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
            if (window.innerWidth < 768) {
                window.scrollTo(0, 0);
            }
        }
    }
    
    handleResize() {
        console.log('–†–∞–∑–º–µ—Ä –æ–∫–Ω–∞ –∏–∑–º–µ–Ω–µ–Ω:', window.innerWidth);
    }
}
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
    const navigation = new Navigation();
    
    // ===== –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö ===== (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
    let appData = {
        dashboard: null,
        students: [],
        schedule: []
    };
    
    // ===== –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö ===== (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
    async function loadData() {
        try {
            const [dashboardRes, studentsRes, scheduleRes] = await Promise.all([
                fetch(API + '/dashboard'),  // –ò—Å–ø—Ä–∞–≤–∏–ª: –¥–æ–±–∞–≤–∏–ª API –≤ URL (–±—ã–ª–æ '/api/dashboard' ‚Äî —ç—Ç–æ –æ—à–∏–±–∫–∞, –µ—Å–ª–∏ API = "http://...")
                fetch(API + '/students/stud'),
                fetch(API + '/lessons')
            ]);
            
            
            appData.dashboard = await dashboardRes.json();
            appData.students = await studentsRes.json();
            appData.schedule = await scheduleRes.json();

            // –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ–º UI
            // renderDashboard();  // –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ –≤ –≤–∞—à–µ–º –∫–æ–¥–µ, –æ—Å—Ç–∞–≤–ª—è—é
            renderStudents();
            renderSchedule();

        } catch (e) {
            console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:", e);
        }
    }

    // ===== –†–µ–Ω–¥–µ—Ä –¥–∞—à–±–æ—Ä–¥–∞ ===== (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π, –Ω–æ –∏—Å–ø—Ä–∞–≤–∏–ª fetch)
    async function loadDashboardData() {
        try {
            const response = await fetch(API + '/students/info');
            const data = await response.json(); 

            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            const stats = document.querySelectorAll('#dashboard .stat-card .stat-value');
            stats[0].textContent = data.studentsCount;
            stats[1].textContent = data.lessonsCount;
            stats[2].textContent = data.attendance + '%';
            stats[3].textContent = data.revenue + ' ‚ÇΩ';

            // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
            const activityBlock = document.querySelector('#dashboard .section');
            activityBlock.innerHTML = `
                <h2 style="margin-bottom: 15px;">–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</h2>
                ${data.activity.map(a => `<p>${a}</p>`).join('')}
            `;

        } catch (error) {
            console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:', error);
        }
    }

    async function loadSchedule() {
        try {
            const res = await fetch(API + "/lessons");
            const schedule = await res.json();

            appData.schedule = schedule;
            renderScheduleList();
        } catch (e) {
            console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è:", e);
        }
    }


    // ===== –†–µ–Ω–¥–µ—Ä —É—á–µ–Ω–∏–∫–æ–≤ ===== (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
    function renderStudents() {
        const container = document.getElementById('students-list');
        if (!container) return;

        container.innerHTML = appData.students
            .map((s, i) => `
                <div class="student-card" data-id="${s.id}">
                    <div class="student-index">${i + 1}</div>
                    <div class="student-name">${s.name}</div>
                </div>
            `)
            .join('');

            document.querySelectorAll('.student-card').forEach(card => {
                card.addEventListener('click', () => {
                    openStudentSidebar(card.dataset.id);
                });
            });
        }
        
    function createFloatingAddButton(pageId) {
        // –µ—Å–ª–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Äî –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ–º
        if (document.getElementById("floating-add-btn")) return;

        const btn = document.createElement("button");
        btn.id = "floating-add-btn";
        btn.className = "floating-add-btn";
        btn.textContent = "+";
        btn.dataset.page = pageId;

        // –≤–∞–∂–Ω–æ–µ: –ø–æ–≤–µ—Å–∏–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä—è–º–æ –Ω–∞ –∫–Ω–æ–ø–∫—É (–Ω–µ —á–µ—Ä–µ–∑ –¥–µ–ª–µ–≥–∞—Ç)
        // –∏—Å–ø–æ–ª—å–∑—É–µ–º pointerup ‚Äî –æ–Ω –Ω–∞–¥—ë–∂–Ω–µ–µ –ø—Ä–∏ —Ç–∞—á–∞—Ö/—Å–≤–∞–π–ø–∞—Ö
        const openHandler = (ev) => {
            // –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –¥–∞–ª—å–Ω–µ–π—à—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É (–Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ overlay –ª–æ–≤–∏—Ç)
            ev.stopPropagation();
            ev.preventDefault();

            if (btn.dataset.page === "students") {
                openModal('create-student-modal');
            } else if (btn.dataset.page === "schedule") {
                openModal('create-lesson-modal');
            }
        };

        btn.addEventListener('pointerup', openHandler);
        // –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π ‚Äî —Ç–∞–∫–∂–µ —Å–ª—É—à–∞–µ–º click (fallback)
        btn.addEventListener('click', openHandler);

        // —á—Ç–æ–±—ã —ç–ª–µ–º–µ–Ω—Ç –±—ã–ª —Å—Ä–∞–∑—É –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º –∏ –Ω–µ "–∑–∞–ª–∏–ø–∞–ª"
        btn.style.pointerEvents = "";

        // —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ handler —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ —É–±—Ä–∞—Ç—å –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏
        btn.__openHandler = openHandler;

        document.body.appendChild(btn);
    }

    function removeFloatingAddButton() {
        const btn = document.getElementById("floating-add-btn");
        if (!btn) return;
        // –µ—Å–ª–∏ –ø–æ–≤–µ—Å–∏–ª–∏ handler ‚Äî —É–¥–∞–ª—è–µ–º
        if (btn.__openHandler) {
            btn.removeEventListener('pointerup', btn.__openHandler);
            btn.removeEventListener('click', btn.__openHandler);
            delete btn.__openHandler;
        }
        btn.remove();
    }




    // ===== –†–µ–Ω–¥–µ—Ä —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è ===== (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
    // function renderSchedule() {
    //     const container = document.querySelector('#schedule .section');
    //     if (!container) return;

    //     container.innerHTML = appData.schedule
    //         .map(lesson => `<p>${lesson.date} ‚Äî ${lesson.title}</p>`)
    //         .join('');
    // }

    function renderScheduleList() {
        const container = document.getElementById("schedule-list-view");
        if (!container) return;

        container.innerHTML = `
            <div class="schedule-date">–°–µ–≥–æ–¥–Ω—è</div>
            ${appData.schedule
                .map(lesson => `
                    <div class="lesson-card">
                        <div>
                            <div class="lesson-time">${lesson.start} ‚Äì ${lesson.end}</div>
                            <div class="lesson-student">${lesson.student}</div>
                            </div>
                            <div class="lesson-menu">‚ãÆ</div>
                    </div>
                `).join('')}
        `;
    }

    function testScheduleRender() {
        appData.schedule = [
            { start: "10:00", end: "11:30", student: "–¢–µ—Å—Ç–æ–≤—ã–π —É—á–µ–Ω–∏–∫ 1" },
            { start: "14:00", end: "15:30", student: "–¢–µ—Å—Ç–æ–≤—ã–π —É—á–µ–Ω–∏–∫ 2" },
            { start: "16:00", end: "17:30", student: "–¢–µ—Å—Ç–æ–≤—ã–π —É—á–µ–Ω–∏–∫ 3" }
        ];
        renderScheduleList();
        console.log("–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã");
    }


    async function loadStudentsData() {
        try {
            const response = await fetch(API +  '/students/stud');
          
            const students = await response.json();

            const container = document.getElementById('students-list');
            container.innerHTML = ""; // –æ—á–∏—â–∞–µ–º

            students.forEach(student => {
                const card = document.createElement('p');
                card.textContent = `${student.name} ‚Äî ${student.age} –ª–µ—Ç`;
                container.appendChild(card);
            });

        } catch (error) {
            console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —É—á–µ–Ω–∏–∫–æ–≤:", error);
        }
    }

    async function openStudentSidebar(id) {
        const sidebar = document.getElementById("student-sidebar");

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–∞–Ω–µ–ª—å
        sidebar.classList.add("open");

        try {
            const response = await fetch(`${API}/students/${id}`);
            const student = await response.json();

            document.getElementById("sidebar-name").textContent = student.name;
            document.getElementById("sidebar-age").textContent = `${student.age}`;
            document.getElementById("sidebar-info").textContent = `${student.info ?? "–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö"}`;
            document.getElementById("sidebar-phone").textContent = student.phone ?? "–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö";

            document.getElementById("student-sidebar").classList.add("open");

        } catch (err) {
            console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —É—á–µ–Ω–∏–∫–∞", err);
            document.getElementById("sidebar-info").textContent = "–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏.";
        }
        sidebarWasOpen = true;

    }


            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
            loadDashboardData();
            // loadStudentsData();
            // loadSchedule()
            loadData();
             
            
            document.querySelector(".close-sidebar").addEventListener("click", () => {
                document.getElementById("student-sidebar").classList.remove("open");
                sidebarWasOpen = false;
            });
            
        // ===== –ó–∞–∫—Ä—ã—Ç–∏–µ —Å–∞–π–¥–±–∞—Ä–∞ —Å–≤–∞–π–ø–æ–º –≤–ø—Ä–∞–≤–æ ===== (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
    let startX = 0;

    const sidebar = document.getElementById("student-sidebar");

    sidebar.addEventListener("touchstart", (e) => {
        startX = e.touches[0].clientX;
    });

    sidebar.addEventListener("touchmove", (e) => {
        const deltaX = e.touches[0].clientX - startX;

        // –ï—Å–ª–∏ —Ç—è–Ω–µ–º –≤–ø—Ä–∞–≤–æ ‚Äî —Å–º–µ—â–∞–µ–º –ø–∞–Ω–µ–ª—å
        if (deltaX > 0) {
            sidebar.style.transform = `translateX(${deltaX}px)`;
        }
    });

    sidebar.addEventListener("touchend", (e) => {
        const deltaX = e.changedTouches[0].clientX - startX;

        // –ï—Å–ª–∏ —Å–º–∞—Ö–Ω—É–ª–∏ –≤–ø—Ä–∞–≤–æ –±–æ–ª—å—à–µ —á–µ–º –Ω–∞ 80px ‚Äî –∑–∞–∫—Ä—ã–≤–∞–µ–º
        if (deltaX > 80) {
            sidebar.classList.remove("open");
        }

        // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–∞ –º–µ—Å—Ç–æ
        sidebar.style.transform = "";
    });

    loadSchedule() // –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—ã–∑—ã–≤–∞–µ–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
    // --------------------------------------
    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–∞–±–æ–≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
    document.querySelectorAll('.schedule-tab').forEach(tab => {
        tab.addEventListener('click', () => {
            const mode = tab.dataset.mode;

            document.querySelectorAll('.schedule-tab')
                .forEach(t => t.classList.remove('active'));

            tab.classList.add('active');

            document.querySelectorAll('.schedule-view')
                .forEach(v => v.classList.remove('active'));

            document.getElementById(`schedule-${mode}-view`).classList.add('active');
        });
    });

    // –ù–û–í–ê–Ø –õ–û–ì–ò–ö–ê –ú–û–î–ê–õ–û–ö: –£–ù–ò–§–ò–¶–ò–†–û–í–ê–ù–ù–ê–Ø (–í–ú–ï–°–¢–û –í–°–ï–• –í–ê–®–ò–• –û–¢–î–ï–õ–¨–ù–´–• –§–£–ù–ö–¶–ò–ô openCreateStudentModal, closeCreateStudentModal, openCreateLessonModal, closeCreateLessonModal, closeSheet)
    // –ö–£–î–ê: –ó–∞–º–µ–Ω–∏—Ç–µ –≤–µ—Å—å –∫–æ–¥ –º–æ–¥–∞–ª–æ–∫ –Ω–∏–∂–µ –Ω–∞ —ç—Ç–æ. –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–æ–Ω–∏ —Ç–µ–ø–µ—Ä—å –Ω–µ –Ω—É–∂–Ω—ã).

    const overlay = document.getElementById("overlay");

    // –û–±—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª–∫–∏ –ø–æ ID
    function openModal(modalId) {
        const modalEl = document.getElementById(modalId);
        if (!modalEl) return;
        if (document.querySelector('.bottom-sheet.open')) return; // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –æ—Ç–∫—Ä—ã—Ç–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–æ–¥–∞–ª–æ–∫

        modalEl.classList.add("open");
        overlay.classList.add("show");
        document.body.style.overflow = "hidden";

        // –°–∫—Ä—ã—Ç—å –ø–ª–∞–≤–∞—é—â—É—é –∫–Ω–æ–ø–∫—É
        removeFloatingAddButton();

        // –°–±—Ä–æ—Å transform
        modalEl.style.transform = "translateY(0)";
    }

    // –û–±—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª–∫–∏ –ø–æ ID
    function closeModal(modalId) {
        const modalEl = document.getElementById(modalId);
        if (!modalEl) return;

        modalEl.classList.remove("open");
        overlay.classList.remove("show");
        document.body.style.overflow = "";

        modalEl.style.transform = "";

        // –ü–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É –æ–±—Ä–∞—Ç–Ω–æ (—Å –∑–∞–¥–µ—Ä–∂–∫–æ–π –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏)
        setTimeout(() => {
            if (["students", "schedule"].includes(navigation.currentPage)) {
                createFloatingAddButton(navigation.currentPage);
            }
        }, 200);
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏—è swipe/drag handlers –∫ –ª—é–±–æ–π –º–æ–¥–∞–ª–∫–µ
    function attachSwipeHandlers(modalEl) {
        if (!modalEl) return;

        let startY = 0;
        let currentY = 0;
        let isDragging = false;

        const SWIPE_ACTIVATE = 10;   // —Å–∫–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ "—Å–¥–≤–∏–Ω—É—Ç—å", —á—Ç–æ–±—ã —Å—á–∏—Ç–∞—Ç—å –∂–µ—Å—Ç —Å–≤–∞–π–ø–æ–º
        const SWIPE_CLOSE = 120;     // —Å–∫–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ —Ç—è–Ω—É—Ç—å –≤–Ω–∏–∑, —á—Ç–æ–±—ã –∑–∞–∫—Ä—ã—Ç—å

        // Touch (–º–æ–±–∏–ª—å–Ω—ã–π —Å–≤–∞–π–ø)
        modalEl.addEventListener("touchstart", (e) => {
            isDragging = true;
            startY = e.touches[0].clientY;
            modalEl.style.transition = "none";
        }, { passive: true });

        modalEl.addEventListener("touchmove", (e) => {
            if (!isDragging) return;
            currentY = e.touches[0].clientY - startY;
            if (currentY < 0 || currentY < SWIPE_ACTIVATE) return;
            modalEl.style.transform = `translateY(${currentY}px)`;
        }, { passive: true });

        modalEl.addEventListener("touchend", () => {
            if (!isDragging) return;
            isDragging = false;
            modalEl.style.transition = "0.25s ease";
            if (currentY > SWIPE_CLOSE) {
                closeModal(modalEl.id);  // –ó–∞–∫—Ä—ã–≤–∞–µ–º —ç—Ç—É –º–æ–¥–∞–ª–∫—É
            } else {
                modalEl.style.transform = "translateY(0)";
            }
            currentY = 0;
        }, { passive: true });

        // Mouse (–¥–µ—Å–∫—Ç–æ–ø drag) ‚Äî –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ
        let mouseDragging = false;
        modalEl.addEventListener("mousedown", (e) => {
            if (!modalEl.classList.contains("open")) return;
            mouseDragging = true;
            startY = e.clientY;
            modalEl.style.transition = "none";
        });
        window.addEventListener("mousemove", (e) => {
            if (!mouseDragging) return;
            currentY = e.clientY;
            const diff = currentY - startY;
            if (diff > 0) modalEl.style.transform = `translateY(${Math.min(diff, modalEl.clientHeight * 0.9)}px)`;
        });
        window.addEventListener("mouseup", () => {
            if (!mouseDragging) return;
            mouseDragging = false;
            modalEl.style.transition = "";
            const diff = currentY - startY;
            if (diff > 90) closeModal(modalEl.id);
            else modalEl.style.transform = "";
        });
    }

    // –ü—Ä–∏–º–µ–Ω—è–µ–º swipe/drag –∫ –æ–±–µ–∏–º –º–æ–¥–∞–ª–∫–∞–º (–ö–£–î–ê: –í—ã–∑—ã–≤–∞–µ–º –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ DOM)
    attachSwipeHandlers(document.getElementById("create-student-modal"));
    attachSwipeHandlers(document.getElementById("create-lesson-modal"));

    // –ö—Ä–µ—Å—Ç–∏–∫ –∑–∞–∫—Ä—ã—Ç–∏—è –¥–ª—è –æ–±–µ–∏—Ö –º–æ–¥–∞–ª–æ–∫
    document.querySelectorAll('.sheet-close').forEach(closeBtn => {
        closeBtn.addEventListener('click', (e) => {
            const modalEl = e.target.closest('.bottom-sheet');
            if (modalEl) closeModal(modalEl.id);
        });
    });

    // Overlay: –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—É—é –º–æ–¥–∞–ª–∫—É (–í–ú–ï–°–¢–û –≤–∞—à–µ–≥–æ overlay.addEventListener("click", closeSheet))
    overlay.addEventListener("click", () => {
        const openModalEl = document.querySelector('.bottom-sheet.open');
        if (openModalEl) closeModal(openModalEl.id);
    });

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –ø–ª–∞–≤–∞—é—â–µ–π –∫–Ω–æ–ø–∫–∏ (–í–ú–ï–°–¢–û –≤–∞—à–µ–≥–æ document.body.addEventListener("click", ...))
    // –¢–µ–ø–µ—Ä—å –æ–Ω –≤ createFloatingAddButton (—Å–º. –≤—ã—à–µ) ‚Äî —Ç–∞–º openModal –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é.

    // ----- –ö–ù–û–ü–ö–ê –°–û–•–†–ê–ù–ï–ù–ò–Ø (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É —Å–æ–∑–¥–∞–Ω–∏—è) -----
    // –ü–æ–∫–∞ —ç—Ç–æ –∑–∞–≥–ª—É—à–∫–∏. –î–æ–±–∞–≤—å—Ç–µ fetch –≤ API –∑–¥–µ—Å—å.
    document.getElementById('create-student-btn').addEventListener('click', () => {
        // TODO: –°–æ–±–µ—Ä–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∏–Ω–ø—É—Ç–æ–≤ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ POST –Ω–∞ API/students
        closeModal('create-student-modal');
        loadData();  // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è
    });

    document.getElementById('create-lesson-btn').addEventListener('click', () => {
        // TODO: –°–æ–±–µ—Ä–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∏–Ω–ø—É—Ç–æ–≤ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ POST –Ω–∞ API/lessons
        closeModal('create-lesson-modal');
        loadData();  // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è
    });

</script>
</body>
</html>